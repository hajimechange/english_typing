<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>English Typing Game</title>
    <link rel="stylesheet" href="style.css">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body>
    
    <div id="app-container">

        <div id="home-screen" class="screen active">
            <h1>English Typing Game</h1>

            <div id="rank-display">
                <p class="rank-label">Current Rank</p>
                <p id="player-rank-name">村人</p>
                <p class="rank-exp">Total EXP: <span id="total-exp">0</span></p>
            </div>
            
            <div id="mode-selection" class="selection-container">
                <h2>モードを選択</h2>
                <button class="btn btn-mode" data-mode="easy">イージー（ゆったり）</button>
                <button class="btn btn-mode" data-mode="normal">ノーマル（はやい）</button>
                <button class="btn btn-mode" data-mode="hard">ハード（スペル非表示）</button>
            </div>

            <div id="session-selection" class="selection-container" style="display: none;">
                <h2>セッションを選択</h2>
                <button class="btn btn-session" data-session="vocabularyData">NEW HORIZON 語句</button>
                <button class="btn btn-session" data-session="grammarQuizData">文法コース</button>
                <button class="btn btn-session" data-session="quizData">意味順コース</button>
                <button class="btn btn-back" data-target="mode">← モード選択に戻る</button>
            </div>

            <div id="course-selection" class="selection-container" style="display: none;">
                <h2 id="course-title">コースを選択</h2>
                <div id="course-grid"></div>
                <button class="btn btn-back" data-target="session">← セッション選択に戻る</button>
            </div>
        </div>

        <div id="game-screen" class="screen">
            <div id="game-header">
                <div>Score: <span id="score">0</span></div>
                <div>Time: <span id="timer">0</span></div>
            </div>

            <div id="monster-area">
                <div id="hp-bar-container">
                    <div id="hp-bar-fill"></div>
                </div>
                <img id="monster-img" src="" alt="Monster">
                <div id="damage-effect">-10</div>
            </div>

            <div id="problem-area">
                <p id="ja-text">日本語訳</p>
                <p id="en-text">English</p>
                <div id="en-text-hard"></div>
            </div>

            <input type="text" id="input-box" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false">

            <button id="home-btn" class="btn">ホームに戻る</button>
        </div>

        <div id="result-screen" class="screen">
            <h2 id="result-title">結果</h2>
            <p id="result-message"></p>
            <div id="result-details">
                <p>獲得ポイント: <span id="final-score">0</span></p>
                <p>タイプ文字数: <span id="total-typed">0</span></p>
                <p>ミスタイプ数: <span id="miss-count">0</span></p>
            </div>
            <button id="back-to-home-btn" class="btn">ホームに戻る</button>
        </div>

    </div>

    <script src="quizData.js"></script>
    <script src="grammarQuizData.js"></script>
    <script src="vocabularyData.js"></script>
    <script src="script.js"></script>
</body>
</html>